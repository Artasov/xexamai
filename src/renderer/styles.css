@import "tailwindcss";

* {
    cursor: default !important;
}

/* Fallback for hidden utility in case Tailwind styles are unavailable */
.hidden {
    display: none !important;
}

/* Simple utility overrides */
.btn {
    @apply px-3 py-2 rounded-md font-medium bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed;
}

.btn-secondary {
    @apply bg-gray-600 hover:bg-gray-700;
}

.card {
    @apply border border-gray-700 rounded-lg p-4 bg-gray-800 shadow-lg;
}

.label {
    @apply text-sm text-gray-400;
}

/* Custom window controls */
.window-controls {
    @apply flex items-center gap-2;
}

.window-control-btn {
    @apply w-8 h-8 flex items-center justify-center rounded-md hover:bg-gray-700 transition-colors;
}

.window-control-btn.close {
    @apply hover:bg-red-600;
}

.window-control-btn.minimize {
    @apply hover:bg-gray-600;
}

/* Window dragging */
.drag-region {
    -webkit-app-region: drag;
}

.no-drag {
    -webkit-app-region: no-drag;
}

button:focus-visible {
    outline: none;
}

/* Custom scrollbar styles */
.overflow-auto {
    scrollbar-width: thin;
    scrollbar-color: #4b5563 #1f2937;
}

.overflow-auto::-webkit-scrollbar {
    width: 8px;
}

.overflow-auto::-webkit-scrollbar-track {
    background: #1f2937;
    border-radius: 4px;
}

.overflow-auto::-webkit-scrollbar-thumb {
    background: #4b5563;
    border-radius: 4px;
    border: 1px solid #374151;
}

.overflow-auto::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
}

.overflow-auto::-webkit-scrollbar-thumb:active {
    background: #9ca3af;
}

.overflow-auto::-webkit-scrollbar-corner {
    background: #1f2937;
}

/* Status badges */
.status-badge {
    @apply px-2 py-1 rounded-full text-xs font-medium;
}

.status-badge.ready {
    @apply bg-green-900 text-green-300 border border-green-700;
}

.status-badge.recording {
    @apply bg-red-900 text-red-300 border border-red-700;
}

.status-badge.sending {
    @apply bg-blue-900 text-blue-300 border border-blue-700;
}

.status-badge.processing {
    @apply bg-yellow-900 text-yellow-300 border border-yellow-700;
}

/* Compact markdown inside answerOut */
#answerOut {
    line-height: 1.35;
}

#answerOut p {
    margin: 0.25rem 0;
}

#answerOut h1, #answerOut h2, #answerOut h3, #answerOut h4, #answerOut h5, #answerOut h6 {
    margin: 0.5rem 0 0.35rem 0;
    line-height: 1.25;
}

#answerOut ul, #answerOut ol {
    margin: 0.25rem 0 0.25rem 1.25rem;
}

#answerOut li {
    margin: 0.15rem 0;
}

#answerOut pre {
    margin: 0.35rem 0;
    padding: 0.5rem;
}

#answerOut code {
    padding: 0.1rem 0.25rem;
}

#answerOut blockquote {
    margin: 0.35rem 0;
    padding-left: 0.75rem;
}

.status-badge.error {
    @apply bg-red-900 text-red-300 border border-red-700;
}

/* Tabs */
.tabs-container {
    @apply mb-2;
}

.tabs {
    @apply flex;
}

.tab {
    @apply px-4 py-2 text-sm font-medium text-gray-400 hover:text-gray-200 border-b-2 border-transparent hover:border-gray-600 transition-colors;
}

.tab.active {
    @apply text-blue-400 border-blue-500;
}

/* Settings sub-tabs */
.settings-tabs-container {
    @apply mb-4;
}

.settings-tabs {
    @apply flex gap-1 bg-gray-800 p-1 rounded-lg border border-gray-700;
}

.settings-tab {
    @apply px-3 py-2 text-sm font-medium text-gray-400 hover:text-gray-200 rounded-md transition-colors;
}

.settings-tab.active {
    @apply text-gray-100 bg-gray-700;
}

.settings-panel-content {
    @apply transition-opacity duration-200;
}

.settings-panel-content.hidden {
    display: none;
}

.content-area {
    @apply transition-opacity duration-200;
}

.content-area.hidden {
    display: none;
}

.settings-panel {
    @apply space-y-4;
}

.settings-section {
    @apply border border-gray-700 rounded-lg px-4 pb-4 pt-3 bg-gray-800 shadow-lg;
    overflow: hidden; /* Prevent content from overflowing */
}

.settings-title {
    @apply text-lg font-semibold text-gray-200 mb-1;
}

.input-group {
    @apply flex gap-2;
    min-width: 0; /* Allow flex items to shrink below their content size */
}

/* Ensure refresh button doesn't overflow */
.input-group .btn-sm {
    flex-shrink: 0; /* Prevent button from shrinking */
    white-space: nowrap; /* Prevent text wrapping */
    min-width: fit-content; /* Ensure button maintains its natural width */
}

/* Specific styles for device selection input group */
#microphoneSection .input-group {
    align-items: stretch; /* Ensure elements align properly */
}

#microphoneSection .input-field {
    min-width: 0; /* Allow select to shrink */
}

.input-field {
    @apply flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

.prompt-textarea {
    @apply resize-y min-h-[100px] font-mono text-sm;
}

/* Select specific styles for device selection */
.input-field[type="select"],
.input-field:is(select) {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Ensure select dropdown doesn't overflow container */
.input-field:is(select) option {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.btn-sm {
    @apply px-2 py-1 text-sm;
}

.btn-danger {
    @apply bg-red-600 hover:bg-red-700;
}

.opacity-control {
    @apply flex items-center gap-4;
}

.opacity-slider {
    @apply flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer;
}

.opacity-slider::-webkit-slider-thumb {
    @apply appearance-none w-4 h-4 bg-blue-500 rounded-full cursor-pointer;
}

.opacity-slider::-moz-range-thumb {
    @apply w-4 h-4 bg-blue-500 rounded-full cursor-pointer border-0;
}

.opacity-value {
    @apply text-sm text-gray-300 font-medium min-w-[3rem];
}

.durations-control {
    @apply space-y-4;
}

.durations-list {
    @apply space-y-2;
}

.duration-item {
    @apply flex items-center justify-between p-2 bg-gray-700 rounded-md gap-2 w-min;
}

.duration-value {
    @apply text-gray-200 font-medium;
}

.duration-input-group {
    @apply flex gap-2 min-w-[250px] w-min;
}

.btn-secondary {
    @apply flex items-center;
}

/* Notifications */
.notification {
    @apply shadow-lg;
}

/* Send last container animation */
.send-last-container {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out, margin-bottom 0.3s ease-in-out;
}

.send-last-container.expanded {
    max-height: 200px;
    opacity: 1;
}

/* Window rounded corners for transparent window */
body {
    overflow: hidden;
}

/* Ensure main content has rounded corners */
.h-screen {
    overflow: hidden;
    border: 2px solid rgb(31, 41, 55);
    border-bottom-width: 3px;
}

/* Markdown styles for LLM responses */
#answerOut {
    @apply text-gray-200 leading-relaxed;
    font-size: 14px;
    line-height: 1.6;
    display: flex;
    flex-direction: column;
}

/* Headers */
#answerOut h1 {
    @apply text-xl font-bold text-gray-100 mt-6 mb-3 pb-2 border-b border-gray-600;
}

#answerOut h2 {
    @apply text-lg font-semibold text-gray-100 mt-5 mb-2 pb-1 border-b border-gray-700;
}

#answerOut h3 {
    @apply text-base font-semibold text-gray-100 mt-4 mb-2;
}

#answerOut h4 {
    @apply text-sm font-semibold text-gray-100 mt-3 mb-2;
}

#answerOut h5,
#answerOut h6 {
    @apply text-sm font-medium text-gray-100 mt-3 mb-2;
}

/* Paragraphs */
#answerOut p {
    @apply text-gray-200;
}

/* Lists */
#answerOut ul,
#answerOut ol {
    @apply ml-4;
    display: flex;
    flex-direction: column;
}

#answerOut li {
    @apply mb-1 text-gray-200;
}

#answerOut ul li {
    @apply list-disc list-inside;
}

#answerOut ol li {
    @apply list-decimal list-inside;
}

/* Nested lists */
#answerOut ul ul,
#answerOut ol ol,
#answerOut ul ol,
#answerOut ol ul {
    @apply mt-1 mb-0;
    display: flex;
    flex-direction: column;
}

/* Code */
#answerOut code {
    @apply bg-gray-800 text-gray-100 px-1.5 py-0.5 rounded text-sm font-mono border border-gray-700;
    font-size: 13px;
}

#answerOut pre {
    @apply bg-gray-900 border border-gray-700 rounded-lg p-4 mb-4 overflow-x-auto;
    font-size: 13px;
    min-height: 55px;
}

#answerOut pre code {
    @apply bg-transparent p-0 border-0 text-gray-100;
    font-size: 13px;
}

/* Blockquotes */
#answerOut blockquote {
    @apply border-l-4 border-blue-500 pl-4 py-2 mb-4 bg-gray-800 rounded-r-lg;
    font-style: italic;
    color: #d1d5db;
}

#answerOut blockquote p {
    @apply mb-0;
}

/* Tables */
#answerOut table {
    @apply w-full border-collapse border border-gray-600 mb-4 rounded-lg overflow-hidden;
}

#answerOut th,
#answerOut td {
    @apply border border-gray-600 px-3 py-2 text-left;
}

#answerOut th {
    @apply bg-gray-700 font-semibold text-gray-100;
}

#answerOut tr:nth-child(even) {
    @apply bg-gray-800;
}

#answerOut tr:hover {
    @apply bg-gray-700;
}

/* Links */
#answerOut a {
    @apply text-blue-400 hover:text-blue-300 underline decoration-blue-400 hover:decoration-blue-300;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
}

/* Text formatting */
#answerOut strong {
    @apply font-semibold text-gray-100;
}

#answerOut em {
    @apply italic text-gray-200;
}

/* Horizontal rules */
#answerOut hr {
    @apply border-gray-600 my-6;
    border-top: 1px solid;
}

/* Images */
#answerOut img {
    @apply max-w-full h-auto rounded-lg shadow-sm;
}

/* Remove extra margins from first/last elements */
#answerOut > *:first-child {
    @apply mt-0;
}

#answerOut > *:last-child {
    @apply mb-0;
}